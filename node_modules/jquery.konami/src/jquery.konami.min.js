!function(t){"use strict";function i(i,e){this.element=i,this.$element=t(i),this.settings=t.extend({},s,e),this._defaults=s,this._name=n,this.hasFiredMatch=!1,this.input="",this.init()}var n="konami",s={pattern:[38,38,40,40,37,39,37,39,66,65].join(""),once:!0,onInit:null,onPatternMatch:null};t.extend(i.prototype,{init:function(){this.$element.on("keydown",this.listen.bind(this)),this.emitEvent("init"),this.fnExists("onInit")&&this.settings.onInit(this)},isPatternMatch:function(){return this.settings.pattern===this.input},resetInvalidInput:function(){(-1===this.settings.pattern.search(this.input)||this.input===this.settings.pattern)&&(this.input="")},isMatchAllowed:function(){return!this.settings.once||this.settings.once&&!this.hasFiredMatch},fnExists:function(t){return this.settings.hasOwnProperty(t)&&"function"==typeof this.settings[t]},emitEvent:function(t){this.$element.trigger("konami."+t,[this])},listen:function(t){this.input+=t.keyCode,this.isPatternMatch()&&this.isMatchAllowed()&&(this.emitEvent("match"),this.fnExists("onPatternMatch")&&this.settings.onPatternMatch(this),this.hasFiredMatch=!0),this.resetInvalidInput()}}),t.fn[n]=function(s){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new i(this,s))})}}(jQuery);